<!doctype html>
<html lang="ko"> <!-- 한국어 -->
<!-- <html lang="en"> 영어 -->
<!-- <html lang="ja"> 일본어 -->
<!-- <html lang="th"> 태국어 -->
<!-- <html lang="zh-Hans"> 중국어(간체) -->
<!-- <html lang="zh-Hant"> 중국어(번체) -->
<head>
<title>MonsterSuperLeague - 100% festival</title>
<meta charset="utf-8">
<meta name="viewport" content="width=980">
<meta name="format-detection" content="telephone=no">
<script src="//static.four33.com/event/common/js/jquery-1.8.1.min.js"></script>
</head>

<!--
  언어에 따라 #fwrap에 class추가
    - ko(한국어)
    - en(영어)
    - ja(일본어)
    - th(태국어)
    - zh-CN(중국어 - 간체)
    - zh-TW(중국어 - 번체)
-->

<body>
<div id="fWrap" class="ko">


<!--   <link rel="stylesheet" href="//static.four33.com/event/game/monstersl/ingame/171026_festival/css/style.min.css"> -->
  <link rel="stylesheet" href="css/style.min.css">
  <div id="header"></div>
  <!-- // #header -->

  <div id="container">

    <div id="normalQuest">

      <div id="quest1" class="quest">
        <ul>
          <li quest-num="0" class="quest-f">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>
          <li quest-num="1" class="quest-e">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>
          <li quest-num="2" class="quest-s">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>
          <li quest-num="3"  class="quest-t">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>


          <li quest-num="4" class="quest-i">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>
          <li quest-num="5" class="quest-v">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>
          <li quest-num="6" class="quest-a">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>
          <li quest-num="7" class="quest-l">
            <div class="wrap_title">
              <div class="title">
                <div class="quest-title"></div>
                <div class="status">
                  (<span class="ing"></span>/<span class="max"></span>)
                </div>
              </div>
            </div>
            <div class="wrap_reward"><div class="reward-title"></div></div>
            <div class="wrap_btn"><div class="btn"></div></div>
          </li>


        </ul>
      </div>
      <!-- // #quest1 -->
    </div>
    <!-- // #normalQuest -->

    <div id="totalQuest">
      <ul>
        <li quest-num="8">
          <div class="bg"></div>
          <div class="wrap_title"><div class="quest-title"></div></div>
          <div class="wrap_reward"><div class="reward-title"></div></div>
          <div class="wrap_btn"><div class="btn"></div></div>
        </li>
      </ul>
    </div>
    <!-- // #totalQuest(추가보상) -->

  </div>
  <!-- // #content -->

  <div id="footer"></div>
  <!-- // #footer -->

  <!-- 확인 후 삭제해주세요 -->
  <div class="test">
    <button class="lang_ko" type="button" lang-data="ko">한국어</button>
    <button class="lang_en" type="button" lang-data="en">영어</button>
    <button class="lang_ja" type="button" lang-data="ja">일본어</button>
    <button class="lang_th" type="button" lang-data="th">태국어</button>
    <button class="lang_zh-CN" type="button" lang-data="zh-CN">중국어 - 간체</button>
    <button class="lang_zh-TW" type="button" lang-data="zh-TW">중국어 - 번체</button>
  </div>
  <!-- // 확인 후 삭제해주세요 -->

</div>
<!-- // #fWrap -->


<script type="text/javascript" src="//static.four33.com/event/common/js/webevent/ftt.webevent.0.3.js"></script>
<script type="text/javascript" src="//static.four33.com/event/common/js/webevent/ftt.jquery.modalLayer.0.3.min.js"></script>
<script type="text/javascript" src="//static.four33.com/event/game/monstersl/ingame/common/js/commonLang.js"></script>
<script type="text/javascript" src="//static.four33.com/event/game/monstersl/ingame/171026_festival/js/evLang.min.js"></script>
<!-- <script type="text/javascript" src="js/evLang.min.js"></script> -->
<script type="text/javascript">
var quest = $('#container'),
  // 미션 상태 값 (0/2/3)
  questStatus = [
    0, 0, 2, 2,
    2, 2, 2, 2,
    2
  ],
  // 미션 진행 값
  questIng = [
    1, 1, 1, 1,
    1, 1, 1, 1,
    0
  ],
  // 미션 목표 값
  questMax = [
    10, 3, 50, 10,
    20, 5, 10, 30,
    0
  ],
  langLayout = evLang( $('#fWrap').attr('class') ),                           // 이벤트 사용언어
  langLayer = commonLang( $('#fWrap').attr('class') );                        // 공통사용(레이어) 언어
var questData = {
  questIng: questIng,
  questMax: questMax,
  questStatus: questStatus,
  otherItem:{
    btnName:{
      target: $('#fWrap li .btn'),
      once: true,
      value: langLayout.btnName
    },
    eventInfo:{
      target: $('#footer'),
      value: langLayout.eventInfo
    }
  }
};

// 초기실행
$(quest).webEventUI(questData, langLayout);

// 보상수령
$('#container').on('click','li.ready .wrap_btn',function () {
  var questNum = $(this).closest('li').attr('quest-num'),     // quest-num 속성 값( 0 ~ 15 )
    isDisabled = $(this).hasClass('disabled');                // 중복 실행 체크

  if (!isDisabled) {
    // 미션 상태 값 변경
    questData.questStatus = [
      3, 3, 3, 3,
      3, 3, 3, 3,
      3
    ];

    $(this).addClass('disabled');
    // 레이어 출력
    if (1){
      /*
        [messageList]
         success(정상지급)
         end(이벤트 기간 종료)
         denied(아이템 지급 미대상자)
         fail(지급실패)
         error(비정상접근)
         btnName(확인버튼명)
         (str로 입력해서 처리도 가능)
       */

      /*

      // normal
      modalLayer.openLayer('fail', 'normal', langLayer);
      // redirection
      modalLayer.openLayer('success', {type:'redirect', url: 'http://www.naver.com'}, langLayer);
      */

      modalLayer.openLayer('success', 'normal', langLayer);
      $(quest).webEventUI(questData, langLayout);   // pageLayoutChange(새로고침, redirection 시 필요없음)
    }
    $('#fWrap li .wrap_btn').removeClass('disabled');
  }
});

</script>




<!-- ################ -->
<!-- 확인 후 삭제해주세요 -->
<script>
$(document).ready(function(){ 
    // 다국어 테스트
    $('.test button').on('click', function () {
      var btnFnc = $(this).attr('data-fnc');
      var langType = $(this).attr('lang-data');
      if(langType) {
        langLayout = evLang(langType);
        langLayer = commonLang(langType);
        questData.otherItem.btnName.target = $('#container li .btn');
        questData.otherItem.btnName.once = true;
        questData.otherItem.btnName.value = langLayout.btnName;
        questData.otherItem.eventInfo.target = $('#footer');
        questData.otherItem.eventInfo.value = langLayout.eventInfo;

        $('.test button').removeClass('active');
        $(this).addClass('active');
        $('#fWrap').attr('class', langType);
        $(quest).webEventUI(questData, langLayout);
      }
      if(btnFnc){
        $('.test button[data-fnc]').removeClass('active');
        $(this).addClass('active');
        $('#totalQuest li, .quest li').removeClass('ready end').addClass(btnFnc);
      }
    });
});
</script>
<style>
  .test{position:fixed;right:0;top:120px;z-index:10;}
  .test button{display:block;width:120px;padding:10px 0;border-right:2px solid #000;border-bottom:2px solid #000;margin-bottom:5px;color:#000;font-size:13px;text-align:center;background:#ccc}
  .test button.active{font-weight:bold;background:#666;color:#000;}
  .test br { font-size:12px;}
</style>

<div class="test">
  <button class="lang_ko" type="button" lang-data="ko">한국어</button>
  <button class="lang_en" type="button" lang-data="en">영어</button>
  <button class="lang_ja" type="button" lang-data="ja">일본어</button>
  <button class="lang_th" type="button" lang-data="th">태국어</button>
  <button class="lang_zh-CN" type="button" lang-data="zh-CN">중국어 - 간체</button>
  <button class="lang_zh-TW" type="button" lang-data="zh-TW">중국어 - 번체</button>
  <br/><br/>
  <button data-fnc="reset" type="button">초기화</button>
  <button data-fnc="ready" type="button">보상받기</button>
  <button data-fnc="end" type="button">지급완료</button>
</div>
  <!-- // 확인 후 삭제해주세요 -->
<!-- ################ -->

</body>
</html>