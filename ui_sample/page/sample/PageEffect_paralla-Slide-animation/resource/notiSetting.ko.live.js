/*
    ko. live. Update : 2016-11-04 09:57:30
*/
window.notiL10NData={Notifications:"알림",NotificationsSettings:"알림설정",NoNewNotifications:"새로운 알림이 없습니다.",LoginRequired:"로그인이 필요합니다.",PleaseRestart:"재실행을 해주세요",MyInfo:"내정보",Loading:"로딩중...",NoNewMessages:"새 쪽지가 없습니다.",ErrorOccurred:"오류가 발생하였습니다.",Maintenance:"임시점검 중입니다.",AvailableBnSWeb:"블레이드 & 소울 홈페이지에서 확인하실 수 있는 글입니다.",ReceivedRequests:"받은친구신청",AfewsecondsAgo:"방금 전",MinutesAgo:"분 전",HhoursAgo:"시간 전",DaysAgo:"일 전",AcceptedFriendRequest:"님의 친구 신청을 수락했습니다",Accept:"수락",Games:"게임",Apps:"앱",MobileApp:"모바일앱",MobileWeb:"모바일웹",Availableonthe:"PC웹",DesktopVersionOfTheWebsite:"에서 확인 가능한 내용입니다",DownloadIE11:"IE11 다운로드",DontShowAgainToday:"하루동안 보지 않기",IfInstallNCMessenger:"NC메신저를 설치하면",StartaPrivateChat:"님과 1:1 대화가 가능합니다.",TryOutNCMessenger:"NC메신저를 설치해 보세요.",TemporaryErrorOccurred:"일시적으로 오류가 발생했습니다.",FriendRequest:"친구신청\n 친구신청을 수락하였습니다.",UnableAddFriends:"최대 친구 수를 초과하여, 새로운 친구를 맺을 수 없습니다",InformationNotAvailable:"요청 정보가 없습니다.",ReceiveNotifications:"알림받기",ReceivePlayncNoti:"plaync에서 보내는 알림을 받습니다.",Year:"년",
Month:"월",Day:"일",NotiSettingsChanged:"알림 설정이 변경되었습니다.",AgreedToReceiveAdvertisements:"홍보성 알림 수신에 수신동의 하였습니다.",WithdrawnFromAgreementReceiveAdvertisements:"홍보성 알림 수신에 수신동의철회 하였습니다.",ProcessisDelayed:"작업이 지연되고 있습니다.\n다시 시도해 주세요",Youbecamefriends:"친구가 되었습니다.",NCFriendRequest:"NC친구 신청",AcceptedNCFriendRequest:"님의 <em>NC친구</em> 신청을 수락합니다.",BecomeNCFriends:"NC친구가 되면?",YouCanSeeAIONcharacterInfo:'<em>서로의 아이온 캐릭터</em>를 조회할 수 있습니다.<br />(단, <span class="nickname">닉네임</span>님이 비공개한 캐릭터는 확인하실 수 없습니다.)',ForLineageandLineage2:"리니지/리니지2의 경우 <em>신청/수락한 캐릭터만 조회</em>할 수 있습니다.",Yes:"예",No:"아니오",InstallNCMessenger:"NC 메신저 설치하기",AddFriends:"친구 추가",AcceptFriendRequest:"님의 친구 신청을 수락합니다.",BecomeFriends:"친구가 되면?",CanSeeEachothersAIONcharacterInfo:"<em>서로의 아이온 캐릭터</em>를 조회할 수 있습니다.",btn_confirm:"확인",btn_cancel:"취소",availableCheck:function(e,t,n,o){var i=[];return e&&i.push("게임"),t&&i.push("모바일앱"),n&&i.push("모바일웹"),o&&i.push("PC웹"),"'"+i.join(",")+"에서 확인 가능한 내용입니다.'"}},function(e){function t(){d=/(rc\.)/i.test(location.href)?"rc.":"",
d=/(rc\-)/i.test(location.href)?"rc-":d,f=location.href.indexOf("g.sandbox")>-1,c=window.npConf&&"true"==window.npConf.isApp,p=e("#nc-cnb").length>0,window.userData&&window.userData.locale&&(h=window.userData.locale);var t=window.npConf?window.npConf.site:window.NP&&window.NP.st;f?t=NP.st:(window.npConf&&(t=npConf.site),p&&window.userData&&(t=userData.site));var n={lineage:"27",bns:"24",aion:"26",rk:"178"};l=n[t]?n[t]:"";var u=/(asia\.nc\.com)/i.test(location.href)?"asia.nc.com":"noti.plaync.com";g={list:location.protocol+"//"+d+u+"/noti/api/common/getReceiveSetting.jsonp",reject:location.protocol+"//"+d+u+"/noti/api/common/updateReceiveSetting.jsonp"},s=e("#notiSetting"),s.on("click",".wrap_btns .btnApply",o),s.on("click",".wrap_btns .btnCancel",i),s.on("change","dl dt input:checkbox",r),s.on("change","header input:checkbox",a)}function n(){e.ajax({url:g.list,data:{priorMainCategories:l,language:h},dataType:"jsonp",type:"GET",success:function(e){if((location.href.indexOf("local.")>-1||""!=d)&&console.log("<ajax> ",e),
"SUCCESS"!=e.result.returnMessage);else{var t=b.header(e.result.notiResult)+b.categoryList(e.result.notiResult.mainCategoryList)+b.btns();s.html(t),c&&window.scrollTo(0,1),e.result.notiResult.receive||s.find("dl").hide()}},beforeSend:function(){},complete:function(){},error:function(e,t){}})}function o(){if(!u){var t="",n=",",o=e("#notiSetting input:checkbox");o.each(function(i){e(this).is(":checked")||(i==o.length-1&&(n=""),t+=this.id+n)}),e.ajax({url:g.reject+"?rejectedCategories="+t,data:{language:h},dataType:"jsonp",type:"GET",success:function(e){(location.href.indexOf("local.")>-1||""!=d)&&console.log("<ajax> ",e),"undefined"!=typeof e.result&&"SUCCESS"==e.result.returnMessage?b.settingCompleteMsg(e):b.settingErrorMsg()},beforeSend:function(){u=!0},complete:function(){u=!1},error:function(e,t){b.settingErrorMsg()}})}}function i(e){p?window.ncNotice&&(jQuery("#notiSetting").hide(),jQuery("#notiList").show(),window.ncNotice.start()):location.href=c?"noob://alim/setting/cancel":"list";
}function a(t){s.find("dl").toggle(e(t.target).is(":checked"))}function r(t){var n=e(t.target);n.parents("dl").eq(0).toggleClass("checked",n.is(":checked"))}var s,c,l,d="",u=!1,g={},f=!1,h="ko-KR",p=!0,b={header:function(e){var t='<header class="setAll"><input type="checkbox" id="'+e.allCategoryNo+'" '+(e.receive?"checked":"")+' /><label for="'+e.allCategoryNo+'">'+e.title+'</label><p class="desc">'+e.tooltip+"</p></header>";return t},categoryList:function(e){for(var t="",n=0;n<e.length;n++)t+=b.category(e[n]);return t},category:function(e){for(var t="",n=0;n<e.subCategoryList.length;n++)t+=b.item(e.subCategoryList[n]);var o='<dl class="setDetail '+(e.receive?"checked":"")+'"><dt><input type="checkbox" id="'+e.mainCategoryNo+'" '+(e.receive?"checked":"")+' /> <label for="'+e.mainCategoryNo+'">'+e.title+" "+notiL10NData.Notifications+"</label></dt>"+t+"</dl>";return o},item:function(e){var t='<dd><input type="checkbox" id="'+e.subCategoryNo+'" '+(e.receive?"checked":"")+'> <label for="'+e.subCategoryNo+'" title="'+e.tooltip+'">'+e.title+"</label></dd>";
return t},btns:function(){var e='<div class="wrap_btns"><button class="imgBtn btnApply">'+notiL10NData.btn_confirm+'</button>&nbsp;<button class="imgBtn btnCancel">'+notiL10NData.btn_cancel+"</button></div>";return e},settingCompleteMsg:function(e){var t=e.result.notiResult.serverDateTime,n=t.substr(0,4)+notiL10NData.Year+" "+t.substr(4,2)+notiL10NData.Month+" "+t.substr(6,2)+notiL10NData.Day+",\n",o=n+notiL10NData.NotiSettingsChanged,i=e.result.notiResult.adReceiveList,a=e.result.notiResult.adRejectList,r=notiL10NData.AgreedToReceiveAdvertisements,s=notiL10NData.WithdrawnFromAgreementReceiveAdvertisements,c="",l="";if(i.length>0){c+="\n\n";for(var d=0;d<i.length;d++){var u=i[d];c+=(0==d?"":"/")+u.mainCategory+"-"+u.subCategory}c+=r}if(a.length>0){l+="\n\n";for(var d=0;d<a.length;d++){var u=a[d];l+=(0==d?"":"/")+u.mainCategory+"-"+u.subCategory}l+=s}o+=c+l,f?(o=o.replace(/\n/g,"<br />"),modal.show({txt:o})):p?(alert(o),window.ncNotice&&(jQuery("#notiSetting").hide(),jQuery("#notiList").show(),
window.ncNotice.start())):alert(o)},settingErrorMsg:function(){var e=notiL10NData.ProcessisDelayed;f?modal.show({txt:e}):alert(e)}};e(function(){if(e("#nc-cnb").length<1){if(e("#notiSetting").length<1)return;t(),n()}else{var o=function(){return this||(0,eval)("this")}();o.ncNotiSetting={start:function(){t(),n()}}}})}(jQuery);