/* Last modify: 2016-11-29(화) 13:56:58 */ ! function(t) {
    "use strict";
    var o = function(t, o) {
            for (var i in o) o.hasOwnProperty(i) && (t[i] = o[i]);
            return t
        },
        i = function(t, i) {
            this._node = jQuery('<div class="ncUiBackdrop"></div>'), this.onclicked = jQuery.Callbacks(), this._parent = t._parent || jQuery("body"), this._options = {
                position: "fixed",
                top: 0,
                left: 0,
                right: 0,
                bottom: 0,
                "z-index": 100010,
                background: "#000",
                opacity: "0.5",
                filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)"
            }, this._options.isBackdropClickClose = i, this._options = o(this._options, t), this._options._parent = "", this._init()
        };
    i.prototype.show = function() {
        this._node.show()
    }, i.prototype.hide = function() {
        this._node.hide()
    }, i.prototype.remove = function() {
        this._node.remove()
    }, i.prototype._init = function() {
        if (this._parent.has(this._node).length) return this._node;
        var t = this._options;
        return t._parent = "", this._node.hide().css(t), this._parent.append(this._node), this.addEvent(), this._node
    }, i.prototype.addEvent = function() {
        var t = this;
        this._node.click(function(o) {
            t._options.isBackdropClickClose && t.onclicked.fire()
        })
    };
    var n = function(t) {
        this._node = jQuery('<div class="ncUiModal"></div>'), this._options = {
            _parent: jQuery("body"),
            type: "",
            url: "",
            w: "",
            h: "",
            content: "",
            isBackdrop: !0,
            isBackdropClickClose: !0,
            backdropCss: {},
            isEsc: !1,
            isMove: !1,
            top: 0,
            left: 0,
            movieParams: "?autoplay=1&version=3&enablejsapi=1",
            isAutoButton: !1,
            isRemoveButton: !1,
            hideCallback: function() {},
            showCallback: function() {}
        }, this._options = o(this._options, t), this._content = "", this._options.backdropCss._parent = this._options._parent, this._backdrop = this._options.isBackdrop ? new i(this._options.backdropCss, this._options.isBackdropClickClose) : null
    };
    n.prototype.getNode = function() {
        return this._node
    }, n.prototype._append = function() {
        this._options._parent.append(this._node)
    }, n.prototype.show = function() {
        this._backdrop && this._backdrop.show(), this._node.show()
    }, n.prototype.remove = function() {
        this._backdrop && this._backdrop.remove(), this._node.find("iframe").attr("src", ""), this._node.remove()
    }, n.prototype.hide = function() {
        this._backdrop && this._backdrop.hide(), this._node.hide()
    }, n.prototype._init = function() {
        this._append(), this.setContent(), this._setModal(), this._setCloseButton(), this._addEvent(), this.hide(), this._content.show()
    }, n.prototype.setContent = function() {
        this._content = jQuery(this._options.content).hide(), this._node.append(this._content), this._options.w = this._content.outerWidth(), this._options.h = this._content.outerHeight()
    }, n.prototype._setCloseButton = function(t) {
        this._closeButton = this._content && this._content.find(".layerClose").length ? this._content.find(".layerClose") : [], 0 === this._closeButton.length && this._options.isAutoButton && (this._closeButton = jQuery('<span class="layerClose">' + (t || "close") + "</span>"), this._node.append(this._closeButton), this._closeButton.css({
            position: "absolute",
            "text-indent": "-119988px",
            cursor: "pointer",
            "z-index": 100050
        }))
    }, n.prototype._addEvent = function() {
        var t = this;
        this._backdrop && this._backdrop.onclicked.add(function() {
            t.hide()
        })
    }, n.prototype._setModal = function() {
        var t = this._options,
            o = t.w || "90vw",
            i = t.h || "50.625vw";
        jQuery(window).scrollLeft();
        this._node.css({
            position: "fixed",
            left: 0,
            top: 0,
            bottom: 0,
            right: 0,
            width: "90vw",
            height: "50.625vw",
            "max-width": "160vh",
            "max-height": "90vh",
            margin: "auto",
            "z-index": 100020
        }).width(o).height(i).show(), i > jQuery(window).height() && this._node.css({
            position: "absolute"
        })
    };
    var e = function(t) {
        this.modal = new n(t);
        var t = this.modal._options;
        this._url = t.url + t.movieParams, this._frame = "", "youtube" === t.type ? (this._init(), this.modal.getNode().addClass("youtubeLayer")) : this.modal._init(), this._addEvent()
    };
    e.prototype._isMovePosition = function() {
        var t = this.modal,
            o = 0;
        t._options.isMove && (o = "auto" === t._options.top ? jQuery(window).scrollTop() + 30 : t._options.top, "auto" != t._options.left && 0 != t._options.left && t._node.css({
            "margin-left": 0,
            left: t._options.left + "px"
        }), t._node.css({
            position: "absolute",
            "margin-top": "auto",
            top: o + "px"
        }))
    }, e.prototype._addEvent = function() {
        var t = this;
        this.modal._backdrop && this.modal._backdrop.onclicked.add(function() {
            t.hide()
        }), t.modal._options.isEsc && jQuery(window).on("keydown", function(o) {
            27 === o.keyCode && t.hide()
        }), this.modal._closeButton.length && this.modal._closeButton.click(function(o) {
            o.preventDefault(), t.modal._options.isRemoveButton ? t.remove() : t.hide()
        })
    }, e.prototype._init = function() {
        this.modal._append(), this.modal._setModal(), this.modal._setCloseButton(), this.modal._addEvent(), this.modal.hide()
    }, e.prototype.changeContent = function(t) {
        var o = (this.modal._options, this.modal._content);
        o.remove(), o = jQuery(t), this.modal._node.append(o)
    }, e.prototype.resetSize = function() {
        var t = this.modal._options,
            o = this.modal._content;
        t.w = o.outerWidth(), t.h = o.outerHeight(), this.modal._setModal(), this._isMovePosition()
    }, e.prototype.setYoutubeUrl = function(t) {
        this._url = t
    }, e.prototype.show = function() {
        var t = this.modal._options;
        "youtube" === t.type && (this._frame ? this._frame.attr("src", this._url + t.movieParams) : this.setContent()), this._isMovePosition(), this.modal.show(), t.showCallback && t.showCallback()
    }, e.prototype.remove = function() {
        var t = this.modal._options;
        "youtube" === t.type && this._frame && this._frame.remove(), this.modal.remove()
    }, e.prototype.hide = function() {
        var t = this.modal._options;
        "youtube" === t.type && this._frame && this._frame.attr("src", ""), this.modal.hide(), t.hideCallback && t.hideCallback()
    }, e.prototype.setContent = function() {
        var t = this.modal._options;
        t.w, t.h;
        this._frame = jQuery('<iframe width="100%" height="100%" style="position: absolute; left: 0; top: 0;" src="' + this._url + '" frameborder="0" allowfullscreen></iframe>'), this.modal._node.append(this._frame)
    }, "undefined" == typeof t.nc && (t.nc = {}), "undefined" == typeof t.nc.ui && (t.nc.ui = {}), t.nc.ui.Backdrop = i, t.nc.ui.Modal = e
}("undefined" == typeof exports ? window : exports),
function(t) {
    "use strict";
    var o = function(t, o) {
        this._parent = t, this._isStop = !1, this._seeking = 0, this._options = {
            url: "",
            imgUrl: "",
            movieW: 640,
            movieH: 360,
            isResize: !0,
            isFull: !1,
            isCenter: !1,
            stateCallback: function() {},
            videoControl: 'autoplay="true" loop="true" preload="auto"'
        }, jQuery.extend(this._options, o);
        var i = "<video " + this._options.videoControl + ' poster="' + this._options.imgUrl + '" style="position:relative;"><source src="' + this._options.url + '" type="video/mp4"/></video>',
            n = '<img src="' + this._options.imgUrl + '" />';
        this.isCanPlayType() ? this._node = jQuery(i) : this._node = jQuery(n), this.bindVideoEvent(), t.append(this._node), this.bindEvent()
    };
    o.prototype.isCanPlayType = function() {
        return !!document.createElement("video").canPlayType
    }, o.prototype.setZindex = function(t) {
        this._options.zindex = t, this._node.css({
            "z-index": t
        })
    }, o.prototype.destroy = function() {
        this._node.remove()
    }, o.prototype.setVolume = function(t) {
        var o = this.getNode()[0];
        o.volume = t
    }, o.prototype.bindVideoEvent = function() {
        var t = this.getNode()[0],
            o = this._options.stateCallback;
        return this.isCanPlayType() ? (t.oncanplaythrough = function() {
            o("canplaythrough")
        }, t.oncanplay = function() {
            o("canplay")
        }, t.onprogress = function() {
            o("progress")
        }, t.onload = function() {
            o("onload")
        }, t.resize = function() {
            o("resize")
        }, t.onloadstart = function() {
            o("loadstart")
        }, t.onabort = function() {
            o("abort")
        }, t.onended = function() {
            o("ended")
        }, t.onerror = function() {
            o("error")
        }, t.onpause = function() {
            o("pause")
        }, t.onplaying = function() {
            o("playing")
        }, void(t.onwaiting = function() {
            o("waiting")
        })) : void o("error")
    }, o.prototype.getNode = function() {
        return this._node
    }, o.prototype.isMute = function() {
        return this.getNode().prop("muted")
    }, o.prototype.setMute = function(t) {
        var o = this.getNode();
        t ? o.prop("muted", !0) : o.prop("muted", !1)
    }, o.prototype.muteToggle = function() {
        var t = this.getNode(),
            o = !t.prop("muted");
        return this.setMute(o), o
    }, o.prototype.play = function() {
        this.isCanPlayType() && (this._node[0].play(), this._isStop = !1)
    }, o.prototype.restart = function() {
        this.isCanPlayType() && (this._node[0].currentTime = 0, this._node[0].play(), this._isStop = !1)
    }, o.prototype.pause = function() {
        this.isCanPlayType() && (this._node[0].pause(), this._isStop = !0)
    }, o.prototype.stop = function() {
        this.pause()
    }, o.prototype.toggle = function() {
        this.isCanPlayType() && (this._isStop ? this.play() : this.pause())
    }, o.prototype.bindEvent = function() {
        var t = jQuery(window),
            o = 360,
            i = this._options.movieW,
            n = this._options.movieH,
            e = this._node,
            s = this._parent,
            a = this;
        this._options.isFull ? e.css({
            display: "block",
            position: "fixed",
            right: 0,
            bottom: 0,
            "min-width": "100%",
            "min-height": "100%",
            width: "auto",
            height: "auto",
            "z-index": this._options.zindex || -100
        }) : this._options.isResize ? t.bind("resize", function() {
            var r, p, h = t.width(),
                l = t.height(),
                d = i,
                c = n,
                u = h / d,
                m = l / c,
                f = u > m ? u : m;
            f * c < o && (f = o / c), e.width(r = f * d).height(p = f * c), s.width(t.width()).height(o).scrollLeft((r - h) / 2).scrollTop((p - l) / 2), a._options.isCenter && s.css({
                marginLeft: -(t.width() / 2)
            })
        }).trigger("resize") : (s.width(i).height(n), e.width(i).height(n)), jQuery(document).bind("webkitvisibilitychange", function() {
            a.isCanPlayType() && window._checkVisibilityChange && (document.webkitHidden ? e.pause() : e.play())
        })
    }, "undefined" == typeof t.nc && (t.nc = {}), "undefined" == typeof t.nc.ui && (t.nc.ui = {}), t.nc.ui.BackgroundMovie = o
}("undefined" == typeof exports ? window : exports),
function(t, o) {
    function i(t) {
        return T.exec(t) ? parseFloat(t) / 100 : t
    }

    function n(t) {
        function o() {
            u.pointer = s(P, [!0, !0], l, h)
        }

        function i() {
            h = a(t), l = r(t), u.threshold = p(h)
        }

        function n() {
            u.timer.add(o)
        }

        function e(t) {
            u.timer.remove(o), u.pointer = s([t.pageX, t.pageY], [!0, !0], l, h)
        }
        var h, l, d = {
                "mouseenter.parallax": n,
                "mouseleave.parallax": e
            },
            c = {
                "resize.parallax": i
            },
            u = {
                elem: t,
                events: d,
                winEvents: c,
                timer: new E
            };
        return I.on(c), t.on(d), i(), u
    }

    function e(t, o, i) {
        var n = t.data(o);
        return n || (n = i ? i(t) : {}, t.data(o, n)), n
    }

    function s(t, o, i, n) {
        for (var e = [], s = 2; s--;) e[s] = (t[s] - i[s]) / n[s], e[s] = e[s] < 0 ? 0 : e[s] > 1 ? 1 : e[s];
        return e
    }

    function a(t) {
        return [t.width(), t.height()]
    }

    function r(t) {
        var o = t.offset() || {
                left: 0,
                top: 0
            },
            i = "none" === t.css("borderLeftStyle") ? 0 : parseInt(t.css("borderLeftWidth"), 10),
            n = "none" === t.css("borderTopStyle") ? 0 : parseInt(t.css("borderTopWidth"), 10),
            e = parseInt(t.css("paddingLeft"), 10),
            s = parseInt(t.css("paddingTop"), 10);
        return [o.left + i + e, o.top + n + s]
    }

    function p(t) {
        return [1 / t[0], 1 / t[1]]
    }

    function h(t, o, i) {
        return [o || t.outerWidth(), i || t.outerHeight()]
    }

    function l(t, n) {
        for (var e = [t, n], s = 2, a = []; s--;) a[s] = "string" == typeof e[s] ? e[s] === o ? 1 : C[a[s]] || i(a[s]) : e[s];
        return a
    }

    function d(t, o) {
        return [x.test(t), x.test(o)]
    }

    function c(t, o, n) {
        for (var e = [t, o], s = 2, a = []; s--;) a[s] = n[s] ? parseInt(e[s], 10) : a[s] = e[s] === !0 ? 1 : i(e[s]);
        return a
    }

    function u(t, o, i, n) {
        for (var e = 2, s = []; e--;) s[e] = o[e] ? i[e] * (n[e] - t[e]) : t[e] ? i[e] * (1 - t[e]) : 0;
        return s
    }

    function m(t, o) {
        for (var i = 2, n = []; i--;) t[i] && (n[i] = 100 * o[i] + "%");
        return n
    }

    function f(t, o, i, n, e) {
        for (var s = t.offsetParent(), a = t.position(), r = [], p = [], h = 2; h--;) r[h] = i[h] ? 0 : a[0 === h ? "left" : "top"] / (s[0 === h ? "outerWidth" : "outerHeight"]() - e[h]), p[h] = (r[h] - n[h]) / o[h];
        return p
    }

    function y(t, o, i, n, e, s) {
        for (var a, r, p = [], h = 2, l = {}; h--;) t[h] && (p[h] = t[h] * s[h] + i[h], o[h] ? (a = e[h], r = p[h] * -1) : (a = 100 * p[h] + "%", r = p[h] * n[h] * -1), 0 === h ? (l.left = a, l.marginLeft = r) : (l.top = a, l.marginTop = r));
        return l
    }

    function _(t, o, i, n, e, s, a) {
        var r, p;
        if ((!e[0] || Math.abs(t[0] - o[0]) < i[0]) && (!e[1] || Math.abs(t[1] - o[1]) < i[1])) return s && s(), a(t);
        for (r = [], p = 2; p--;) e[p] && (r[p] = t[p] + n * (o[p] - t[p]));
        return a(r)
    }

    function g(t, o, i, n, e, s, a) {
        if (t[0] !== o[0] || t[1] !== o[1]) return a(t)
    }

    function v(t, o, i) {
        t.off(o).removeData("parallax_port"), I.off(i)
    }

    function b(t, o, i) {
        o.elem.off(i), o.layers = o.layers.not(t), 0 === o.layers.length && v(o.elem, o.events, o.winEvents)
    }

    function w(t) {
        var o = {};
        t[0] && (o.left = "", o.marginLeft = ""), t[1] && (o.top = "", o.marginTop = ""), elem.css(o)
    }
    var k = {
            mouseport: "body",
            xparallax: !0,
            yparallax: !0,
            xorigin: .5,
            yorigin: .5,
            decay: .66,
            frameDuration: 30,
            freezeClass: "freeze"
        },
        C = {
            left: 0,
            top: 0,
            middle: .5,
            center: .5,
            right: 1,
            bottom: 1
        },
        x = /^\d+\s?px$/,
        T = /^\d+\s?%$/,
        I = t(window),
        S = t(document),
        P = [0, 0],
        E = function() {
            function t() {
                function t() {}

                function n() {
                    var t = r.slice(0),
                        n = t.length,
                        e = -1;
                    for (o && console.log("timer frame()", n); ++e < n;) t[e].call(this);
                    i(a)
                }

                function e() {
                    o && console.log("timer start()"), this.start = t, this.stop = s, a = n, i(a)
                }

                function s() {
                    o && console.log("timer stop()"), this.start = e, this.stop = t, a = t
                }
                var a, r = [];
                this.callbacks = r, this.start = e, this.stop = s
            }
            var o = !1,
                i = function() {
                    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(t, o) {
                        return window.setTimeout(function() {
                            t()
                        }, 25)
                    }
                }();
            return t.prototype = {
                add: function(t) {
                    for (var i = this.callbacks, n = i.length; n--;)
                        if (i[n] === t) return;
                    this.callbacks.push(t), o && console.log("timer add()", this.callbacks.length)
                },
                remove: function(t) {
                    for (var i = this.callbacks, n = i.length; n--;) i[n] === t && i.splice(n, 1);
                    o && console.log("timer remove()", this.callbacks.length), 0 === i.length && this.stop()
                }
            }, t
        }();
    t.fn.parallax = function(o) {
        var i = t.extend({}, t.fn.parallax.options, o),
            s = arguments,
            a = i.mouseport instanceof t ? i.mouseport : t(i.mouseport),
            r = e(a, "parallax_port", n),
            p = r.timer;
        return this.each(function(o) {
            function n(t) {
                var o = y(S, I, P, x, E, t);
                w.css(o), A = t
            }

            function e() {
                M(r.pointer, A, r.threshold, C, S, z, n)
            }

            function a() {
                M = g
            }

            function v() {
                p.remove(e)
            }
            var b = this,
                w = t(this),
                k = s[o + 1] ? t.extend({}, i, s[o + 1]) : i,
                C = k.decay,
                x = h(w, k.width, k.height),
                T = l(k.xorigin, k.yorigin),
                I = d(k.xparallax, k.yparallax),
                S = c(k.xparallax, k.yparallax, I),
                P = u(S, I, T, x),
                E = m(I, T),
                A = f(w, S, I, P, x),
                M = _,
                z = a,
                j = {
                    "mouseenter.parallax": function(t) {
                        M = _, z = a, p.add(e), p.start()
                    },
                    "mouseleave.parallax": function(t) {
                        M = _, z = v
                    }
                };
            t.data(b, "parallax") && w.unparallax(), t.data(b, "parallax", {
                port: r,
                events: j,
                parallax: S
            }), r.elem.on(j), r.layers = r.layers ? r.layers.add(b) : t(b)
        })
    }, t.fn.unparallax = function(o) {
        return this.each(function() {
            var i = t.data(this, "parallax");
            i && (t.removeData(this, "parallax"), b(this, i.port, i.events), o && w(i.parallax))
        })
    }, t.fn.parallax.options = k, S.on("mousemove.parallax", function(t) {
        P = [t.pageX, t.pageY]
    })
}(jQuery),
function(t, o) {
    "function" == typeof define && define.amd ? define(["jquery"], o) : o(t.jQuery)
}(this, function(t) {
    function o() {
        var t = document.createElement("smartbanner"),
            o = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            };
        for (var i in o)
            if (void 0 !== t.style[i]) return {
                end: o[i]
            };
        return !1
    }
    var i = navigator.userAgent,
        n = /Edge/i.test(i),
        e = function(o) {
            this.origHtmlMargin = parseFloat(t("html").css("margin-top")), this.options = t.extend({}, t.smartbanner.defaults, o);
            var e = navigator.standalone;
            if (this.options.force ? this.type = this.options.force : null !== i.match(/Windows Phone/i) && null !== i.match(/Edge|Touch/i) ? this.type = "windows" : null !== i.match(/iPhone|iPod/i) || i.match(/iPad/) && this.options.iOSUniversalApp ? null !== i.match(/Safari/i) && (null !== i.match(/CriOS/i) || null != i.match(/FxiOS/i) || window.Number(i.substr(i.indexOf("OS ") + 3, 3).replace("_", ".")) < 6) && (this.type = "ios") : i.match(/\bSilk\/(.*\bMobile Safari\b)?/) || i.match(/\bKF\w/) || i.match("Kindle Fire") ? this.type = "kindle" : null !== i.match(/Android/i) && (this.type = "android"), this.type && !e && !this.getCookie("sb-closed") && !this.getCookie("sb-installed")) {
                this.scale = "auto" == this.options.scale ? t(window).width() / window.screen.width : this.options.scale, this.scale < 1 && (this.scale = 1);
                var s = t("android" == this.type ? 'meta[name="google-play-app"]' : "ios" == this.type ? 'meta[name="apple-itunes-app"]' : "kindle" == this.type ? 'meta[name="kindle-fire-app"]' : 'meta[name="msApplication-ID"]');
                if (s.length) {
                    if ("windows" == this.type) n && (this.appId = t('meta[name="msApplication-PackageEdgeName"]').attr("content")), this.appId || (this.appId = t('meta[name="msApplication-PackageFamilyName"]').attr("content"));
                    else {
                        var a = /app-id=([^\s,]+)/.exec(s.attr("content"));
                        if (!a) return;
                        this.appId = a[1]
                    }
                    this.title = this.options.title ? this.options.title : s.data("title") || t("title").text().replace(/\s*[|\-·].*$/, ""), this.author = this.options.author ? this.options.author : s.data("author") || (t('meta[name="author"]').length ? t('meta[name="author"]').attr("content") : window.location.hostname), this.iconUrl = s.data("icon-url"), this.price = s.data("price"), "function" == typeof this.options.onInstall ? this.options.onInstall = this.options.onInstall : this.options.onInstall = function() {}, "function" == typeof this.options.onClose ? this.options.onClose = this.options.onClose : this.options.onClose = function() {}, this.create(), this.show(), this.listen()
                }
            }
        };
    e.prototype = {
        constructor: e,
        create: function() {
            var o, i = this.price || this.options.price,
                e = this.options.url || function() {
                    switch (this.type) {
                        case "android":
                            return "market://details?id=";
                        case "kindle":
                            return "amzn://apps/android?asin=";
                        case "windows":
                            return n ? "ms-windows-store://pdp/?productid=" : "ms-windows-store:navigate?appid="
                    }
                    return "https://itunes.apple.com/" + this.options.appStoreLanguage + "/app/id"
                }.call(this) + this.appId,
                s = i ? function() {
                    var t = i + " - ";
                    switch (this.type) {
                        case "android":
                            return t + this.options.inGooglePlay;
                        case "kindle":
                            return t + this.options.inAmazonAppStore;
                        case "windows":
                            return t + this.options.inWindowsStore
                    }
                    return t + this.options.inAppStore
                }.call(this) : "",
                a = null == this.options.iconGloss ? "ios" == this.type : this.options.iconGloss;
            "android" == this.type && this.options.GooglePlayParams && (e += "&referrer=" + this.options.GooglePlayParams);
            var r = '<div id="smartbanner" class="' + this.type + '"><div class="sb-container"><a href="#" class="sb-close">&times;</a><span class="sb-icon"></span><div class="sb-info"><strong>' + this.title + "</strong><span>" + this.author + "</span><span>" + s + '</span></div><a href="' + e + '" class="sb-button"><span>' + this.options.button + "</span></a></div></div>";
            this.options.layer ? t(this.options.appendToSelector).append(r) : t(this.options.appendToSelector).prepend(r), this.options.icon ? o = this.options.icon : this.iconUrl ? o = this.iconUrl : t('link[rel="apple-touch-icon-precomposed"]').length > 0 ? (o = t('link[rel="apple-touch-icon-precomposed"]').attr("href"), null == this.options.iconGloss && (a = !1)) : t('link[rel="apple-touch-icon"]').length > 0 ? o = t('link[rel="apple-touch-icon"]').attr("href") : t('meta[name="msApplication-TileImage"]').length > 0 ? o = t('meta[name="msApplication-TileImage"]').attr("content") : t('meta[name="msapplication-TileImage"]').length > 0 && (o = t('meta[name="msapplication-TileImage"]').attr("content")), o ? (t("#smartbanner .sb-icon").css("background-image", "url(" + o + ")"), a && t("#smartbanner .sb-icon").addClass("gloss")) : t("#smartbanner").addClass("no-icon"), this.bannerHeight = t("#smartbanner").outerHeight() + 2, this.scale > 1 && (t("#smartbanner").css("top", parseFloat(t("#smartbanner").css("top")) * this.scale).css("height", parseFloat(t("#smartbanner").css("height")) * this.scale).hide(), t("#smartbanner .sb-container").css("-webkit-transform", "scale(" + this.scale + ")").css("-msie-transform", "scale(" + this.scale + ")").css("-moz-transform", "scale(" + this.scale + ")").css("width", t(window).width() / this.scale)), t("#smartbanner").css("position", this.options.layer ? "absolute" : "static")
        },
        listen: function() {
            t("#smartbanner .sb-close").on("click", t.proxy(this.close, this)), t("#smartbanner .sb-button").on("click", t.proxy(this.install, this))
        },
        show: function(o) {
            var i = t("#smartbanner");
            if (i.stop(), this.options.layer) i.animate({
                top: 0,
                display: "block"
            }, this.options.speedIn).addClass("shown").show(), t(this.pushSelector).animate({
                paddingTop: this.origHtmlMargin + this.bannerHeight * this.scale
            }, this.options.speedIn, "swing", o);
            else if (t.support.transition) {
                i.animate({
                    top: 0
                }, this.options.speedIn).addClass("shown");
                var n = function() {
                    t("html").removeClass("sb-animation"), o && o()
                };
                t(this.pushSelector).addClass("sb-animation").one(t.support.transition.end, n).emulateTransitionEnd(this.options.speedIn).css("margin-top", this.origHtmlMargin + this.bannerHeight * this.scale)
            } else i.slideDown(this.options.speedIn).addClass("shown")
        },
        hide: function(o) {
            var i = t("#smartbanner");
            if (i.stop(), this.options.layer) i.animate({
                top: -1 * this.bannerHeight * this.scale,
                display: "block"
            }, this.options.speedIn).removeClass("shown"), t(this.pushSelector).animate({
                paddingTop: this.origHtmlMargin
            }, this.options.speedIn, "swing", o);
            else if (t.support.transition) {
                "android" !== this.type ? i.css("top", -1 * this.bannerHeight * this.scale).removeClass("shown") : i.css({
                    display: "none"
                }).removeClass("shown");
                var n = function() {
                    t("html").removeClass("sb-animation"), o && o()
                };
                t(this.pushSelector).addClass("sb-animation").one(t.support.transition.end, n).emulateTransitionEnd(this.options.speedOut).css("margin-top", this.origHtmlMargin)
            } else i.slideUp(this.options.speedOut).removeClass("shown")
        },
        close: function(t) {
            t.preventDefault(), this.hide(), this.setCookie("sb-closed", "true", this.options.daysHidden), this.options.onClose(t)
        },
        install: function(t) {
            this.options.hideOnInstall && this.hide(), this.setCookie("sb-installed", "true", this.options.daysReminder), this.options.onInstall(t)
        },
        setCookie: function(t, o, i) {
            var n = new Date;
            n.setDate(n.getDate() + i), o = encodeURI(o) + (null == i ? "" : "; expires=" + n.toUTCString()), document.cookie = t + "=" + o + "; path=/;"
        },
        getCookie: function(t) {
            var o, i, n, e = document.cookie.split(";");
            for (o = 0; o < e.length; o++)
                if (i = e[o].substr(0, e[o].indexOf("=")), n = e[o].substr(e[o].indexOf("=") + 1), i = i.replace(/^\s+|\s+$/g, ""), i == t) return decodeURI(n);
            return null
        },
        switchType: function() {
            var o = this;
            this.hide(function() {
                o.type = "android" == o.type ? "ios" : "android";
                var i = t("android" == o.type ? 'meta[name="google-play-app"]' : 'meta[name="apple-itunes-app"]').attr("content");
                o.appId = /app-id=([^\s,]+)/.exec(i)[1], t("#smartbanner").detach(), o.create(), o.show()
            })
        }
    }, t.smartbanner = function(o) {
        var i = t(window),
            n = i.data("smartbanner"),
            s = "object" == typeof o && o;
        n || i.data("smartbanner", n = new e(s)), "string" == typeof o && n[o]()
    }, t.smartbanner.defaults = {
        title: null,
        author: null,
        price: "FREE",
        appStoreLanguage: "us",
        inAppStore: "On the App Store",
        inGooglePlay: "In Google Play",
        inAmazonAppStore: "In the Amazon Appstore",
        inWindowsStore: "In the Windows Store",
        GooglePlayParams: null,
        icon: null,
        iconGloss: null,
        button: "VIEW",
        url: null,
        scale: "auto",
        speedIn: 300,
        speedOut: 400,
        daysHidden: 15,
        daysReminder: 90,
        force: null,
        hideOnInstall: !0,
        layer: !1,
        iOSUniversalApp: !0,
        appendToSelector: "body",
        pushSelector: "html"
    }, t.smartbanner.Constructor = e, void 0 === t.support.transition && (t.fn.emulateTransitionEnd = function(o) {
        var i = !1,
            n = this;
        t(this).one(t.support.transition.end, function() {
            i = !0
        });
        var e = function() {
            i || t(n).trigger(t.support.transition.end)
        };
        return setTimeout(e, o), this
    }, t(function() {
        t.support.transition = o()
    }))
});