(function(a){if(!window.Clipboard){console.log("[에러] clipboard.js가 존재하지 않습니다.")}else{if(!$.fn.slick){console.log("[에러] slick.js가 존재하지 않습니다.")}else{if(!$.fn.actual){console.log("[에러] actual.js가 존재하지 않습니다.")}}}a(jQuery)})(function(b){var a=(function(){function c(f,e){var d=this;var g=f;d.defaultOpts={layerWrap:"#fLayer",layerEle:null,viewerEle:null,shareEle:null,layerType:null,layerUrl:null,layerMsg:null,layerThumb:null,layerIdx:null,layerName:null,slickOpts:{dots:true,swipe:true,adaptiveHeight:false},bgEle:"#fLayer .bg_layer",bgOpacity:0.7,clipboard:null,fixed:false};d.options=d.defaultOpts;d.setList=function(h){return h.replace(/ /gi,"").split(",")};d.videoInit=function(j,i){var h='<iframe width="310" height="171" src="https://www.youtube.com/embed/'+i+'?rel=0&amp;vq=hd480;wmode=transparent&autoplay=1" frameborder="0" allowfullscreen></iframe>';b(j).empty().append(h)};d.openLayer=function(l){var k=l,i=b(window).height(),j=b(document).height(),n=b(k.layerEle).actual("height"),h={top:null,position:null},m={height:j,opacity:k.bgOpacity};if(n>=i*0.9){b(window).scrollTop(0);h.top=80;h.position="absolute"}else{h.top=(i-n)/2;h.position="fixed"}b(k.layerEle).addClass(l.layerName).css(h).show();b(k.layerWrap).show();b(k.bgEle).css(m).show();if(b(k.layerEle).hasClass("image-list")){b(k.viewerEle).slick("slickGoTo",k.layerIdx,true);b(k.viewerEle).slick("setPosition")}};d.setOpts=function(j){var i;var h=(b(j).attr("data-layer")!==undefined)?true:false;if(h){i={docHeight:b(document).height(),layerEle:d.defaultOpts.layerWrap+" ."+b(j).attr("data-layer"),viewerEle:b(d.defaultOpts.layerWrap+" ."+b(j).attr("data-layer")+" .viewer div"),shareEle:b(d.defaultOpts.layerWrap).find(".video .share"),layerType:b(j).attr("data-layer"),layerUrl:(b(j).attr("data-url")===undefined)?null:d.setList(b(j).attr("data-url")),layerMsg:(b(j).attr("data-msg")===undefined)?null:d.setList(b(j).attr("data-msg")),layerThumb:(b(j).attr("data-thumb")===undefined)?null:d.setList(b(j).attr("data-thumb")),layerIdx:(b(j).attr("data-index")===undefined)?null:d.setList(b(j).attr("data-index")),layerName:(b(j).attr("data-name")===undefined)?null:b(j).attr("data-name")}}else{i={docHeight:b(document).height(),layerEle:(j.layerEle!==undefined)?j.layerEle:d.defaultOpts.layerWrap+" ."+j.layerType,viewerEle:b(d.defaultOpts.layerWrap+" ."+j.layerType+" .viewer div"),shareEle:b(d.defaultOpts.layerWrap).find(".video .share"),layerType:j.layerType,layerUrl:(j.layerUrl!==undefined)?d.setList(j.layerUrl):null,layerMsg:(j.layerMsg!==undefined)?d.setList(j.layerMsg):null,layerThumb:(j.layerThumb!==undefined)?d.setList(j.layerThumb):null,layerIdx:(j.layerIdx!==undefined)?j.layerIdx:null,layerName:(j.layerName!==undefined)?j.layerName:null,fixed:j.fixed}}d.options=b.extend({},d.defaultOpts,i)};(function(){if(e!==undefined){d.setOpts(e);d.open()}else{b(g).on("click",function(){d.setOpts(this);d.open();return false})}b(d.options.bgEle+", #fLayer .btn_close").on("click",function(h){d.close.call(d,h);return false})})()}return c})();a.prototype.open=function(){var k=this;var n=this.options;if(n.layerType==="video"){var h=b(n.shareEle).find(".btn_facebook"),c=b(n.shareEle).find(".btn_twitter"),e=b(n.shareEle).find(".btn_gplus"),j=b(n.shareEle).find(".btn_blog"),i="http://www.facebook.com/sharer/sharer.php?u=https://youtu.be/"+n.layerUrl,d="https://twitter.com/intent/tweet?text="+encodeURI(n.layerMsg)+"&url=https://youtu.be/"+n.layerUrl,g='<iframe width="560" height="315" src="https://www.youtube.com/embed/'+n.layerUrl+'" frameborder="0" allowfullscreen></iframe>',f="https://plus.google.com/share?url=https://youtu.be/"+encodeURI(n.layerUrl);k.videoInit(n.viewerEle,n.layerUrl);n.clipboard=new Clipboard(n.layerEle+" .share .btn_blog");n.clipboard.on("success",function(){alert("클립보드에 복사되었습니다.\n ‘붙여넣기’로 원하시는 곳에 Ctrl + V 또는 마우스 오른쪽 버튼 클릭 후 붙여 넣기는 선택해주세요.")});n.clipboard.on("error",function(){window.prompt("선택된 글자를 복사하여 공유해주세요",g)});b(h).attr("href",i);b(c).attr("href",d);b(e).attr("href",f);b(j).attr("data-clipboard-text",g)}else{if(n.layerType==="video-list"){k.videoInit(n.viewerEle,n.layerUrl[0]);(function(){var o="";b(n.layerUrl).each(function(p){var q=b(n.layerMsg)[p]||"";var r=(b(n.layerThumb)[p]!==undefined)?'<img src="'+b(n.layerThumb)[p]+'" alt="'+q+'">':"";o+='<button class="btn_list'+(p+1)+'" type="button" data-url="'+n.layerUrl[p]+'">'+r+"</button>"});b(n.layerEle).find(".list").empty().append(o);b(n.layerEle).find(".list button:eq(0)").addClass("active");b(n.layerWrap).off("click",".list button").on("click",".list button",function(){if(b(this).attr("data-url")!=="disabled"&&!b(this).hasClass("active")){b(n.layerWrap).find(".list button").removeClass("active");b(this).addClass("active");k.videoInit(n.viewerEle,b(this).attr("data-url"))}else{return false}})})()}else{if(n.layerType==="image-list"){var l="";b(n.layerUrl).each(function(o,q){var p={src:q,alt:b(n.layerMsg)[o]};l+='<div><div><span><img src="'+p.src+'" alt="'+p.alt+'"><span></div></div>'});b(n.viewerEle).slick(n.slickOpts);b(n.viewerEle).slick("slickAdd",l)}else{var m=(n.layerUrl===null)?"":'<img src="'+n.layerUrl+'" alt="'+n.layerMsg+'">';if(!n.fixed){b(n.layerEle).find(".viewer div").empty().append(m)}}}}k.openLayer(n)};a.prototype.close=function(h){var f=this;var d=f.options;if(h.target.id!="fLayer"){var c=b(d.layerEle).hasClass("image-list"),g=b(d.layerEle).hasClass("video");if(c){b(d.viewerEle).slick("unslick")}if(g){d.clipboard.destroy()}if(!d.fixed){b(d.viewerEle).empty()}b(d.layerWrap).hide();b(d.layerEle).removeClass(d.layerName).hide()}};b.fn.modalLayer=function(d){var c=this;c.modalLayer=new a(c,d);return c}});