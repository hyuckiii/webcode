var modalLayer={layerEle:'<div id="fLayer"><div class="modal_layer"><div class="wrap_layer"><span class="bg top"></span><span class="bg bottom"></span><div class="layer_cont"><div class="title"></div><div class="msg"><div class="wrap_msg"></div></div><div class="btn_area"><button class="btn_close" type="button"></button></div></div></div></div><div class="bg_layer"></div></div>',openLayer:function(d,a,m){var c=$("#fLayer"),l=$(c).children(".bg_layer"),b=$(c).children(".modal_layer"),i=$(b).outerHeight(),h=$(b).find(".layer_cont .title"),g=$(b).find(".msg .wrap_msg"),f=$(b).find(".btn_area .btn_close"),e=$(window).height(),n=$(document).height(),k=(e-i)/2,j=m;if(m!==undefined){if(d=="success"){d=j.success}if(d=="fail"){d=j.fail}if(d=="already"){d=j.already}if(d=="error"){d=j.error}if(j.btnName!==undefined){$(f).html(j.btnName)}if(j.title!==undefined){$(h).html(j.title)}}if(a==="refresh"){$(f).attr("close-type",a)}else{if(a.type==="redirect"){$(f).attr("close-type",a.type);$(f).attr("close-url",a.url)}}$(c).show(function(){$(c).addClass("active")});$(l).height(n);$(g).html(d);if(i<e){$(b).css("top",k).show();$(document).bind("touchmove",function(o){o.preventDefault()})}else{$(window).scrollTop(0);$(b).css("top",30).show()}},closeLayer:function(a,c){var b=$("#fLayer .modal_layer");if(a==="refresh"){location.reload()}else{if(a=="redirect"){location.href=c}else{$(document).unbind("touchmove");$("#fLayer").removeClass("active").hide();$(b).hide()}}}};$(document).ready(function(){if(!$("#fLayer").length){$("body > div").append(modalLayer.layerEle)}$("body").on("click","#fLayer .btn_close, #fLayer .bg_layer",function(){var a=$("#fLayer .btn_close").attr("close-type"),b=$("#fLayer .btn_close").attr("close-url");modalLayer.closeLayer(a,b)})});