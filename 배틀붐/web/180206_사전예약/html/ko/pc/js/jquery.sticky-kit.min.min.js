(function(){var d,c;d=this.jQuery||window.jQuery;c=d(window);d.fn.stick_in_parent=function(A){var a,r,q,t,x,s,y,z,B,u,v,w,b;if(A==null){A={}}u=A.sticky_class,t=A.inner_scrolling,B=A.recalc_every,z=A.parent,s=A.offset_top,x=A.spacer,q=A.bottoming;if(s==null){s=0}if(z==null){z=void 0}if(t==null){t=true}if(u==null){u="is_stuck"}a=d(document);if(q==null){q=true}y=function(g){var f,h,e;if(window.getComputedStyle){e=g[0];f=window.getComputedStyle(g[0]);h=parseFloat(f.getPropertyValue("width"))+parseFloat(f.getPropertyValue("margin-left"))+parseFloat(f.getPropertyValue("margin-right"));if(f.getPropertyValue("box-sizing")!=="border-box"){h+=parseFloat(f.getPropertyValue("border-left-width"))+parseFloat(f.getPropertyValue("border-right-width"))+parseFloat(f.getPropertyValue("padding-left"))+parseFloat(f.getPropertyValue("padding-right"))}return h}else{return g.outerWidth(true)}};v=function(o,k,O,Q,N,M,e,R){var p,h,L,l,f,K,i,m,g,P,j,n;if(o.data("sticky_kit")){return}o.data("sticky_kit",true);f=a.height();i=o.parent();if(z!=null){i=i.closest(z)}if(!i.length){throw"failed to find stick parent"}L=false;p=false;j=x!=null?x&&o.closest(x):d("<div />");if(j){j.css("position",o.css("position"))}m=function(){var D,E,C;if(R){return}f=a.height();D=parseInt(i.css("border-top-width"),10);E=parseInt(i.css("padding-top"),10);k=parseInt(i.css("padding-bottom"),10);O=i.offset().top+D+E;Q=i.height();if(L){L=false;p=false;if(x==null){o.insertAfter(j);j.detach()}o.css({position:"",top:"",width:"",bottom:""}).removeClass(u);C=true}N=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-s;M=o.outerHeight(true);e=o.css("float");if(j){j.css({width:y(o),height:M,display:o.css("display"),"vertical-align":o.css("vertical-align"),"float":e})}if(C){return n()}};m();if(M===Q){return}l=void 0;K=s;P=B;n=function(){var H,E,G,C,D,F;if(R){return}G=false;if(P!=null){P-=1;if(P<=0){P=B;m();G=true}}if(!G&&a.height()!==f){m();G=true}C=c.scrollTop();if(l!=null){E=C-l}l=C;if(L){if(q){D=C+M+K>Q+O;if(p&&!D){p=false;o.css({position:"fixed",bottom:"",top:K}).trigger("sticky_kit:unbottom")}}if(C<N){L=false;K=s;if(x==null){if(e==="left"||e==="right"){o.insertAfter(j)}j.detach()}H={position:"",width:"",top:""};o.css(H).removeClass(u).trigger("sticky_kit:unstick")}if(t){F=c.height();if(M+s>F){if(!p){K-=E;K=Math.max(F-M,K);K=Math.min(s,K);if(L){o.css({top:K+"px"})}}}}}else{if(C>N){L=true;H={position:"fixed",top:K};H.width=o.css("box-sizing")==="border-box"?o.outerWidth()+"px":o.width()+"px";o.css(H).addClass(u);if(x==null){o.after(j);if(e==="left"||e==="right"){j.append(o)}}o.trigger("sticky_kit:stick")}}if(L&&q){if(D==null){D=C+M+K>Q+O}if(!p&&D){p=true;if(i.css("position")==="static"){i.css({position:"relative"})}return o.css({position:"absolute",bottom:k,top:"auto"}).trigger("sticky_kit:bottom")}}};g=function(){m();return n()};h=function(){R=true;c.off("touchmove",n);c.off("scroll",n);c.off("resize",g);d(document.body).off("sticky_kit:recalc",g);o.off("sticky_kit:detach",h);o.removeData("sticky_kit");o.css({position:"",bottom:"",top:"",width:""});i.position("position","");if(L){if(x==null){if(e==="left"||e==="right"){o.insertAfter(j)}j.remove()}return o.removeClass(u)}};c.on("touchmove",n);c.on("scroll",n);c.on("resize",g);d(document.body).on("sticky_kit:recalc",g);o.on("sticky_kit:detach",h);return setTimeout(n,0)};for(w=0,b=this.length;w<b;w++){r=this[w];v(d(r))}return this}}).call(this);